{"version":3,"file":"analytics.js","mappings":"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","sources":["webpack://TNAFrontend/webpack/universalModuleDefinition","webpack://TNAFrontend/webpack/bootstrap","webpack://TNAFrontend/webpack/runtime/define property getters","webpack://TNAFrontend/webpack/runtime/hasOwnProperty shorthand","webpack://TNAFrontend/webpack/runtime/make namespace object","webpack://TNAFrontend/./src/nationalarchives/lib/cookies.mjs","webpack://TNAFrontend/./src/nationalarchives/lib/analytics-helpers.mjs","webpack://TNAFrontend/./src/nationalarchives/components/breadcrumbs/analytics.js","webpack://TNAFrontend/./src/nationalarchives/components/checkboxes/analytics.js","webpack://TNAFrontend/./src/nationalarchives/components/footer/analytics.js","webpack://TNAFrontend/./src/nationalarchives/components/global-header/analytics.js","webpack://TNAFrontend/./src/nationalarchives/components/header/analytics.js","webpack://TNAFrontend/./src/nationalarchives/components/picture/analytics.js","webpack://TNAFrontend/./src/nationalarchives/components/radios/analytics.js","webpack://TNAFrontend/./src/nationalarchives/components/search-field/analytics.js","webpack://TNAFrontend/./src/nationalarchives/components/text-input/analytics.js","webpack://TNAFrontend/./src/nationalarchives/components/textarea/analytics.js","webpack://TNAFrontend/./src/nationalarchives/analytics.mjs","webpack://TNAFrontend/./src/nationalarchives/components/hero/analytics.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"TNAFrontendAnalytics\"] = factory();\n\telse\n\t\troot[\"TNAFrontendAnalytics\"] = factory();\n})(self, () => {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export class CookieEventHandler {\n  events = {};\n  oneTimeEvents = {};\n\n  constructor() {\n    if (CookieEventHandler._instance) {\n      return CookieEventHandler._instance;\n    }\n    CookieEventHandler._instance = this;\n  }\n\n  /**\n   * Add an event listener.\n   * @param {String} event - The event to add a listener for.\n   * @param {Function} callback - The callback function to call when the event is triggered.\n   */\n  on(event, callback) {\n    if (!Object.hasOwn(this.events, event)) {\n      this.events[event] = [];\n    }\n    this.events[event] = [...this.events[event], callback];\n  }\n\n  once(event, callback) {\n    if (!Object.hasOwn(this.oneTimeEvents, event)) {\n      this.oneTimeEvents[event] = [];\n    }\n    this.oneTimeEvents[event] = [...this.oneTimeEvents[event], callback];\n  }\n\n  /** @protected */\n  trigger(event, data = {}) {\n    if (Object.hasOwn(this.events, event)) {\n      this.events[event].forEach((eventToTrigger) =>\n        eventToTrigger.call(this, data),\n      );\n    }\n    if (Object.hasOwn(this.oneTimeEvents, event)) {\n      for (let i = this.oneTimeEvents[event].length - 1; i >= 0; i--) {\n        const eventToTrigger = this.oneTimeEvents[event][i];\n        eventToTrigger.call(this, data);\n        this.oneTimeEvents[event].splice(i, 1);\n      }\n    }\n  }\n}\n\n/**\n * Class to handle cookies.\n * @class Cookies\n * @constructor\n * @public\n */\nexport default class Cookies {\n  /** @protected */\n  extraPolicies = [];\n  /** @protected */\n  domain = \"\";\n  /** @protected */\n  path = \"\";\n  /** @protected */\n  secure = true;\n  /** @protected */\n  policiesKey = \"\";\n  /** @protected */\n  events = null;\n\n  /**\n   * Create a cookie handler.\n   * @param {String} [options.extraPolicies=[]] - The extra cookie policies to manage in addition to essential, settings and usage.\n   * @param {String} [options.domain=\"\"] - The domain to register the cookie with.\n   * @param {String} [options.path=\"\"] - The domain to register the cookie with.\n   * @param {String} [options.secure=true] - Only set cookie in HTTPS environments.\n   * @param {String} [options.policiesKey=cookies_policy] - The name of the cookie.\n   */\n  constructor(options = {}) {\n    const {\n      extraPolicies = [],\n      domain = \"\",\n      path = \"/\",\n      secure = true,\n      policiesKey = \"cookies_policy\",\n    } = options;\n    this.extraPolicies = extraPolicies;\n    this.domain = domain;\n    this.path = path;\n    this.secure = secure;\n    this.policiesKey = policiesKey;\n    this.events = new CookieEventHandler();\n    this.init();\n  }\n\n  /** @protected */\n  init() {\n    this.savePolicies({\n      ...Object.fromEntries(\n        this.extraPolicies.map((k) => [k.toLowerCase(), false]),\n      ),\n      usage: false,\n      settings: false,\n      ...this.policies,\n      essential: true,\n    });\n  }\n\n  get all() {\n    const deserialised = {};\n    document.cookie\n      .split(\"; \")\n      .filter((x) => x)\n      .forEach((cookie) => {\n        const parts = cookie.trim().split(\"=\");\n        if (parts[0]) {\n          deserialised[parts[0]] = parts[1];\n        }\n      });\n    return deserialised;\n  }\n\n  get policies() {\n    try {\n      return JSON.parse(this.get(this.policiesKey) || \"{}\");\n    } catch (e) {\n      return {};\n    }\n  }\n\n  /**\n   * Check to see whether a cookie exists or not.\n   * @param {String} key - The cookie name.\n   * @returns {Boolean}\n   */\n  exists(key) {\n    return Object.hasOwn(this.all, key);\n  }\n\n  /**\n   * Check to see whether a cookie has a particular value.\n   * @param {String} key - The cookie name.\n   * @param {String|Number|Boolean} value - The value to check against.\n   * @returns\n   */\n  hasValue(key, value) {\n    return this.get(key) == value;\n  }\n\n  /**\n   * Get a cookie.\n   * @param {String} key - The cookie name.\n   * @returns {String|Number|Boolean}\n   */\n  get(key) {\n    return this.exists(key) ? decodeURIComponent(this.all[key]) : null;\n  }\n\n  /**\n   * Set a cookie.\n   * @param {String} key - The cookie name.\n   * @param {String|Number|Boolean} value - The cookie value.\n   * @param {Object} options\n   * @param {Number} [options.maxAge=31536000] - The maximum age of the cookie in seconds.\n   * @param {String} [options.path=/] - The path to register the cookie for.\n   * @param {String} [options.sameSite=Lax] - The sameSite attribute.\n   * @param {String} [options.domain=this.domain] - The domain to register the cookie with.\n   * @param {String} [options.path=this.path] - The path to register the cookie with.\n   * @param {String} [options.secure=this.secure] - Only set cookie in HTTPS environments.\n   */\n  set(key, value, options = {}) {\n    const {\n      maxAge = 60 * 60 * 24 * 365,\n      sameSite = \"Lax\",\n      domain = this.domain,\n      path = this.path,\n      secure = this.secure,\n    } = options;\n    if (!key) {\n      return;\n    }\n    const cookie = `${encodeURIComponent(key)}=${encodeURIComponent(value)};${\n      domain ? ` domain=${domain}; ` : \"\"\n    } samesite=${sameSite}; path=${path}; max-age=${maxAge}${\n      secure ? \"; secure\" : \"\"\n    }`;\n    document.cookie = cookie;\n    this.events.trigger(\"setCookie\", {\n      key,\n      value,\n      maxAge,\n      path,\n      sameSite,\n      domain,\n      secure,\n      cookie,\n    });\n  }\n\n  /**\n   * Delete a cookie.\n   * @param {String} key - The cookie name.\n   * @param {String} [path=/] - The path to the cookie is registered on.\n   */\n  delete(key, path = \"/\", domain = null) {\n    const options = { maxAge: -1, path, domain: domain || undefined };\n    this.set(key, \"\", options);\n    this.events.trigger(\"deleteCookie\", { key, ...options });\n  }\n\n  /**\n   * Delete all cookies.\n   */\n  deleteAll(path = \"/\", domain = null) {\n    Object.keys(this.all).forEach((cookie) => {\n      this.delete(cookie, path, domain);\n    });\n    this.events.trigger(\"deleteAllCookies\", { path, domain });\n  }\n\n  /**\n   * Accept a policy.\n   * @param {String} policy - The name of the policy.\n   */\n  acceptPolicy(policy) {\n    this.setPolicy(policy, true);\n    this.events.trigger(\"acceptPolicy\", policy);\n    this.events.trigger(\"changePolicy\", { [policy]: true });\n  }\n\n  /**\n   * Reject a policy.\n   * @param {String} policy - The name of the policy.\n   */\n  rejectPolicy(policy) {\n    this.setPolicy(policy, false);\n    this.events.trigger(\"rejectPolicy\", policy);\n    this.events.trigger(\"changePolicy\", { [policy]: false });\n  }\n\n  /**\n   * Set a policy.\n   * @param {String} policy - The name of the policy.\n   * @param {Boolean} accepted - Whether the policy is accepted or not.\n   */\n  setPolicy(policy, accepted) {\n    if (policy === \"essential\") {\n      return;\n    }\n    this.savePolicies({\n      ...this.policies,\n      [policy]: accepted,\n      essential: true,\n    });\n    this.events.trigger(\"changePolicy\", { [policy]: accepted });\n  }\n\n  /**\n   * Accept all the cookie policies.\n   */\n  acceptAllPolicies() {\n    const allPolicies = Object.fromEntries(\n      Object.keys(this.policies).map((k) => [k.toLowerCase(), true]),\n    );\n    this.savePolicies(allPolicies);\n    this.events.trigger(\"acceptAllPolicies\");\n    this.events.trigger(\"changePolicy\", allPolicies);\n  }\n\n  /**\n   * Reject all the cookie policies.\n   */\n  rejectAllPolicies() {\n    const allPolicies = {\n      ...Object.fromEntries(\n        Object.keys(this.policies).map((k) => [k.toLowerCase(), false]),\n      ),\n      essential: true,\n    };\n    this.savePolicies(allPolicies);\n    this.events.trigger(\"rejectAllPolicies\");\n    this.events.trigger(\"changePolicy\", allPolicies);\n  }\n\n  /**\n   * Commit policy preferences to the browser.\n   * @param {object} policies - The policies to commit.\n   */\n  savePolicies(policies) {\n    this.set(this.policiesKey, JSON.stringify(policies));\n  }\n\n  /**\n   * Get the acceptance status of a policy.\n   * @param {String} policy - The name of the policy.\n   * @returns {Boolean}\n   */\n  isPolicyAccepted(policy) {\n    return Object.hasOwn(this.policies, policy)\n      ? this.policies[policy] === true\n      : null;\n  }\n\n  /**\n   * Add an event listener.\n   * @param {String} event - The event to add a listener for.\n   * @param {Function} callback - The callback function to call when the event is triggered.\n   */\n  on(event, callback) {\n    this.events.on(event, callback);\n  }\n\n  /**\n   * Add a one-time event listener.\n   * @param {String} event - The event to add a listener for.\n   * @param {Function} callback - The callback function to call when the event is triggered.\n   */\n  once(event, callback) {\n    this.events.once(event, callback);\n  }\n}\n","const getXPathTo = ($element) => {\n  if ($element.id !== \"\") {\n    return 'id(\"' + $element.id + '\")';\n  }\n  if ($element === document.body) {\n    return $element.tagName;\n  }\n  let ix = 0;\n  const siblings = $element.parentNode.childNodes;\n  for (let i = 0; i < siblings.length; i++) {\n    const sibling = siblings[i];\n    if (sibling === $element)\n      return (\n        getXPathTo($element.parentNode) +\n        \"/\" +\n        $element.tagName +\n        \"[\" +\n        (ix + 1) +\n        \"]\"\n      );\n    if (sibling.nodeType === 1 && sibling.tagName === $element.tagName) ix++;\n  }\n};\n\nconst includesAny = (arr, values) => values.some((v) => arr.includes(v));\n\nconst getClosestHeading = ($element) => {\n  let heading = \"\";\n  let $search = $element;\n  do {\n    while ($search.previousElementSibling) {\n      $search = $search.previousElementSibling;\n      if (\n        [\"h1\", \"h2\", \"h3\", \"h4\", \"h5\", \"h6\"].includes($search.tagName) ||\n        ($search.classList.length &&\n          includesAny(Array.from($search.classList), [\n            \"tna-heading-xl\",\n            \"tna-heading-l\",\n            \"tna-heading-m\",\n            \"tna-heading-s\",\n          ]))\n      ) {\n        heading = $search.innerText;\n        break;\n      }\n    }\n    $search = $search.parentElement;\n  } while ($search.parentElement && !heading);\n  return heading;\n};\n\nconst valueGetters = {\n  text: ($el) => $el.innerText,\n  html: ($el) => $el.innerHTML,\n  value: ($el) => $el.value,\n  index: ($el, $scope, event, index) => index,\n  checked: ($el) => ($el.checked ? \"checked\" : \"unchecked\"),\n  expanded: ($el) => {\n    const expanded = $el.getAttribute(\"aria-expanded\");\n    if (expanded === null) {\n      return null;\n    }\n    return expanded.toString() === \"true\" ? \"opened\" : \"closed\";\n  },\n  closestHeading: ($el) => getClosestHeading($el),\n};\n\nexport { getXPathTo, getClosestHeading, valueGetters };\n","import { valueGetters } from \"../../lib/analytics-helpers.mjs\";\n\nexport default [\n  {\n    scope: \".tna-breadcrumbs\",\n    areaName: \"breadcrumbs\",\n    events: [\n      {\n        eventName: \"click\",\n        targetElement:\n          \".tna-breadcrumbs__item--expandable button.tna-breadcrumbs__link\",\n        on: \"click\",\n        data: { state: \"expand\", value: valueGetters.html },\n      },\n    ],\n  },\n];\n","import { valueGetters } from \"../../lib/analytics-helpers.mjs\";\n\nexport default [\n  {\n    scope: \".tna-checkboxes\",\n    areaName: \"checkboxes\",\n    events: [\n      {\n        eventName: \"toggle\",\n        targetElement: \".tna-checkboxes__item input\",\n        on: \"change\",\n        data: {\n          state: valueGetters.checked,\n          // eslint-disable-next-line no-unused-vars\n          value: ($el, $scope, event) => $el.parentNode.innerText,\n          // eslint-disable-next-line no-unused-vars\n          group: ($el, $scope, event) =>\n            $scope\n              .closest(\".tna-form__group\")\n              ?.querySelector(\".tna-form__heading\")?.innerText,\n        },\n      },\n    ],\n  },\n];\n","import { valueGetters } from \"../../lib/analytics-helpers.mjs\";\n\nexport default [\n  {\n    scope: \".tna-footer\",\n    areaName: \"footer\",\n    rootEventName: \"global_navigation\",\n    events: [\n      {\n        eventName: \"link.click\",\n        targetElement: \".tna-footer__navigation-block-item-link\",\n        on: \"click\",\n        data: {\n          value: valueGetters.text,\n        },\n        rootData: {\n          data_component_name: \"Footer\",\n          data_link_type: \"Link\",\n          data_section: valueGetters.closestHeading,\n          data_link: valueGetters.text,\n        },\n      },\n      {\n        eventName: \"social_link.click\",\n        targetElement: \".tna-footer__social-item-link\",\n        on: \"click\",\n        data: {\n          value: valueGetters.text,\n        },\n        rootData: {\n          data_component_name: \"Footer\",\n          data_link_type: \"Icon\",\n          data_section: \"Social media\",\n          data_link: ($el) => $el.getAttribute(\"data-name\"),\n        },\n      },\n      {\n        eventName: \"legal_link.click\",\n        targetElement: \".tna-footer__legal-item-link\",\n        on: \"click\",\n        data: {\n          value: valueGetters.text,\n        },\n        rootData: {\n          data_component_name: \"Footer\",\n          data_link_type: \"Link\",\n          data_section: \"Legal information\",\n          data_link: valueGetters.text,\n        },\n      },\n      {\n        eventName: \"mailing_list.click\",\n        targetElement: \".tna-footer__mailing-list a.tna-button\",\n        on: \"click\",\n        data: {\n          value: valueGetters.text,\n        },\n        rootData: {\n          data_component_name: \"Footer\",\n          data_link_type: \"Button\",\n          data_section: \"Mailing list\",\n          data_link: valueGetters.text,\n        },\n      },\n      {\n        eventName: \"ogl.click\",\n        targetElement: \".tna-footer__licence p a.tna-footer__link\",\n        on: \"click\",\n        data: {\n          value: valueGetters.text,\n        },\n        rootData: {\n          data_component_name: \"Footer\",\n          data_link_type: \"Link\",\n          data_section: \"OGL\",\n          data_link: valueGetters.text,\n        },\n      },\n      {\n        eventName: \"govuk.click\",\n        targetElement: \".tna-footer__govuk-link\",\n        on: \"click\",\n        data: {\n          value: valueGetters.text,\n        },\n        rootData: {\n          data_component_name: \"Footer\",\n          data_link_type: \"Logo\",\n          data_section: \"GOV.UK\",\n          data_link: valueGetters.text,\n        },\n      },\n    ],\n  },\n];\n","import { valueGetters } from \"../../lib/analytics-helpers.mjs\";\n\nexport default [\n  {\n    scope: \".tna-global-header\",\n    areaName: \"header\",\n    rootEventName: \"global_navigation\",\n    events: [\n      {\n        eventName: \"toggle\",\n        targetElement: \".tna-global-header__navigation-button\",\n        on: \"click\",\n        data: {\n          state: valueGetters.expanded,\n        },\n        rootData: {\n          data_component_name: \"Header\",\n          data_link_type: \"Mobile menu\",\n          data_link: ($el) => {\n            const expanded = $el.getAttribute(\"aria-expanded\");\n            if (expanded === null) {\n              return null;\n            }\n            return expanded.toString() === \"true\" ? \"Open menu\" : \"Close menu\";\n          },\n          data_section: \"Burger menu\",\n        },\n      },\n      {\n        eventName: \"logo.click\",\n        targetElement: \".tna-global-header__logo\",\n        on: \"click\",\n        rootData: {\n          data_component_name: \"Header\",\n          data_link_type: \"Logo\",\n          data_link: \"The National Archives\",\n          data_section: \"Top navigation and logo\",\n        },\n      },\n      {\n        eventName: \"primary_link.click\",\n        targetElement: \".tna-global-header__navigation-item-link\",\n        on: \"click\",\n        data: {\n          value: valueGetters.text,\n        },\n        rootData: {\n          data_component_name: \"Header\",\n          data_link_type: \"Menu\",\n          data_section: valueGetters.text,\n          data_position: 1,\n          data_link: valueGetters.text,\n        },\n      },\n      {\n        eventName: \"secondary_link.click\",\n        targetElement: \".tna-global-header__top-navigation-link\",\n        on: \"click\",\n        data: {\n          value: valueGetters.text,\n        },\n        rootData: {\n          data_component_name: \"Header\",\n          data_link_type: \"Icon\",\n          data_link: valueGetters.text,\n          data_section: \"Top navigation and logo\",\n        },\n      },\n    ],\n  },\n];\n","import { valueGetters } from \"../../lib/analytics-helpers.mjs\";\n\nexport default [\n  {\n    scope: \".tna-header\",\n    areaName: \"header\",\n    events: [\n      {\n        eventName: \"toggle\",\n        targetElement: \".tna-header__navigation-toggle-button\",\n        on: \"click\",\n        data: {\n          state: valueGetters.expanded,\n        },\n      },\n    ],\n  },\n];\n","import {\n  getClosestHeading,\n  valueGetters,\n} from \"../../lib/analytics-helpers.mjs\";\n\nexport default [\n  {\n    scope: \".tna-picture\",\n    areaName: \"picture\",\n    events: [\n      {\n        eventName: \"toggle_transcript\",\n        targetElement: \".tna-picture__toggle-transcript\",\n        on: \"click\",\n        data: {\n          state: valueGetters.expanded,\n          // eslint-disable-next-line no-unused-vars\n          value: ($el, $scope, event) => {\n            const heading = getClosestHeading($scope);\n            const image = $scope.querySelector(\".tna-picture__image\");\n            const imageSrc = image.getAttribute(\"src\");\n            const imageAlt = image.getAttribute(\"alt\");\n            const value = `${imageAlt} (${imageSrc})`;\n            return heading ? `${heading} > ${value}` : value;\n          },\n        },\n      },\n    ],\n  },\n];\n","import { valueGetters } from \"../../lib/analytics-helpers.mjs\";\n\nexport default [\n  {\n    scope: \".tna-radios\",\n    areaName: \"radios\",\n    events: [\n      {\n        eventName: \"toggle\",\n        targetElement: \".tna-radios__item input\",\n        on: \"change\",\n        data: {\n          state: valueGetters.checked,\n          // eslint-disable-next-line no-unused-vars\n          value: ($el, $scope, event) => $el.parentNode.innerText,\n          // eslint-disable-next-line no-unused-vars\n          group: ($el, $scope, event) =>\n            $scope\n              .closest(\".tna-form__group\")\n              ?.querySelector(\".tna-form__heading\")?.innerText,\n        },\n      },\n    ],\n  },\n];\n","import { valueGetters } from \"../../lib/analytics-helpers.mjs\";\n\nexport default [\n  {\n    scope: \".tna-search-field\",\n    areaName: \"search-field\",\n    events: [\n      {\n        eventName: \"blurred\",\n        targetElement: \".tna-search-field__input\",\n        on: \"blur\",\n        data: {\n          // eslint-disable-next-line no-unused-vars\n          value: valueGetters.value,\n          // eslint-disable-next-line no-unused-vars\n          group: ($el, $scope, event) =>\n            $scope.querySelector(\".tna-form__heading\")?.innerText,\n        },\n      },\n    ],\n  },\n];\n","import { valueGetters } from \"../../lib/analytics-helpers.mjs\";\n\nexport default [\n  {\n    scope: \".tna-text-input\",\n    areaName: \"text-input\",\n    events: [\n      {\n        eventName: \"blurred\",\n        on: \"blur\",\n        data: {\n          // eslint-disable-next-line no-unused-vars\n          value: valueGetters.value,\n          // eslint-disable-next-line no-unused-vars\n          group: ($el, $scope, event) =>\n            $scope\n              .closest(\".tna-form__group\")\n              ?.querySelector(\".tna-form__heading\")?.innerText,\n        },\n      },\n    ],\n  },\n];\n","import { valueGetters } from \"../../lib/analytics-helpers.mjs\";\n\nexport default [\n  {\n    scope: \".tna-textarea\",\n    areaName: \"textarea\",\n    events: [\n      {\n        eventName: \"blurred\",\n        on: \"blur\",\n        data: {\n          // eslint-disable-next-line no-unused-vars\n          value: valueGetters.value,\n          // eslint-disable-next-line no-unused-vars\n          group: ($el, $scope, event) =>\n            $scope\n              .closest(\".tna-form__group\")\n              ?.querySelector(\".tna-form__heading\")?.innerText,\n        },\n      },\n    ],\n  },\n];\n","import Cookies from \"./lib/cookies.mjs\";\nimport {\n  getXPathTo,\n  getClosestHeading,\n  valueGetters,\n} from \"./lib/analytics-helpers.mjs\";\nimport BreadcrumbAnalytics from \"./components/breadcrumbs/analytics.js\";\nimport CheckboxesAnalytics from \"./components/checkboxes/analytics.js\";\nimport FooterAnalytics from \"./components/footer/analytics.js\";\nimport GlobalHeaderAnalytics from \"./components/global-header/analytics.js\";\nimport HeaderAnalytics from \"./components/header/analytics.js\";\nimport HeroAnalytics from \"./components/hero/analytics.js\";\nimport PictureAnalytics from \"./components/picture/analytics.js\";\nimport RadiosAnalytics from \"./components/radios/analytics.js\";\nimport SearchFieldAnalytics from \"./components/search-field/analytics.js\";\nimport TextInputAnalytics from \"./components/text-input/analytics.js\";\nimport TextareaAnalytics from \"./components/textarea/analytics.js\";\n\nconst componentAnalytics = [\n  ...BreadcrumbAnalytics,\n  ...CheckboxesAnalytics,\n  ...FooterAnalytics,\n  ...GlobalHeaderAnalytics,\n  ...HeaderAnalytics,\n  ...HeroAnalytics,\n  ...PictureAnalytics,\n  ...RadiosAnalytics,\n  ...SearchFieldAnalytics,\n  ...TextInputAnalytics,\n  ...TextareaAnalytics,\n];\n\nclass EventTracker {\n  /** @protected */\n  cookies = new (window.TNAFrontend?.Cookies || Cookies)();\n\n  /** @protected */\n  events = [];\n\n  /** @protected */\n  startTime = new Date();\n\n  /** @protected */\n  prefix = \"tna\";\n\n  /** @protected */\n  addTrackingCode = true;\n\n  constructor(options = {}) {\n    const { prefix = null, addTrackingCode = true } = options;\n    if (prefix) {\n      this.prefix = prefix;\n    }\n    this.addTrackingCode = addTrackingCode;\n  }\n\n  start(initAll) {\n    if (!navigator.doNotTrack || navigator.doNotTrack !== 1) {\n      if (this.cookies.isPolicyAccepted(\"usage\")) {\n        this.enableTracking();\n      }\n      this.cookies.on(\"changePolicy\", (policies) => {\n        if (Object.hasOwn(policies, \"usage\")) {\n          if (policies[\"usage\"]) {\n            this.enableTracking();\n          } else {\n            this.disableTracking();\n          }\n        }\n      });\n      if (initAll) {\n        this.initAll();\n      }\n    }\n  }\n\n  enableTracking() {}\n\n  disableTracking() {}\n\n  /**\n   * Initialise all TNA Frontend component analytics.\n   */\n  initAll() {\n    componentAnalytics.forEach((componentConfig) => {\n      this.addListeners(\n        componentConfig.scope,\n        componentConfig.areaName,\n        componentConfig.events,\n        componentConfig.rootEventName || \"\",\n      );\n    });\n  }\n\n  /**\n   * Add an event listener.\n   * @param {String|HTMLElement} scope - The element to which the listener is scoped.\n   * @param {String} areaName - The name of the component to pass on to the tracker.\n   * @param {{eventName: String, targetElement: String|undefined, on: String, data: {value: Function|String|undefined, state: Function|String|undefined, group: Function|String|undefined, [String]: String|Integer}, rootData:{[String]: Function|String}}[]} events - The configuration of events to track along with their optional value and state which can be computed.\n   * @param {String} rootEventName - The event name to use if specified (prefix).\n   */\n  addListeners(scope, areaName, events, rootEventName = \"\") {\n    let scopeArray;\n    if (typeof scope === \"string\") {\n      scopeArray = Array.from(document.querySelectorAll(scope));\n    } else if (typeof scope === \"object\") {\n      scopeArray = [scope];\n    }\n    if (!scopeArray) {\n      return;\n    }\n    scopeArray.forEach(($scope) => {\n      events.forEach((eventConfig) => {\n        if (!eventConfig.on) {\n          return;\n        }\n        if (eventConfig.targetElement) {\n          Array.from(\n            $scope.querySelectorAll(eventConfig.targetElement),\n          ).forEach(($el, index) =>\n            this.attachListener(\n              $el,\n              $scope,\n              rootEventName,\n              eventConfig,\n              scope,\n              areaName,\n              index + 1,\n            ),\n          );\n        } else {\n          this.attachListener(\n            $scope,\n            $scope,\n            rootEventName,\n            eventConfig,\n            scope,\n            areaName,\n            1,\n          );\n        }\n      });\n    });\n  }\n\n  /** @protected */\n  generateEventName(areaName, eventConfig) {\n    return `${this.prefix}.${areaName}.${eventConfig.eventName || eventConfig.on}`;\n  }\n\n  /** @protected */\n  attachListener(\n    $el,\n    $scope,\n    rootEventName,\n    eventConfig,\n    scope,\n    areaName,\n    index,\n  ) {\n    const { on, data, targetElement, rootData = {} } = eventConfig;\n    $el.addEventListener(on, (event) =>\n      this.recordEvent(\n        rootEventName\n          ? `${this.prefix}.${rootEventName}`\n          : this.generateEventName(areaName, eventConfig),\n        {\n          ...data,\n          name: this.generateEventName(areaName, eventConfig),\n          value: data?.value\n            ? this.computedValue(data.value, $el, $scope, event, index)\n            : null,\n          state: data?.state\n            ? this.computedValue(data.state, $el, $scope, event, index)\n            : null,\n          group: data?.group\n            ? this.computedValue(data.group, $el, $scope, event, index)\n            : null,\n          xPath: getXPathTo($el),\n          targetElement: targetElement,\n          timeSincePageLoad: new Date() - this.startTime,\n          index,\n          scope,\n          areaName,\n        },\n        Object.fromEntries(\n          Object.entries(rootData).map(([key, value]) => [\n            key,\n            this.computedValue(value, $el, $scope, event, index),\n          ]),\n        ),\n      ),\n    );\n  }\n\n  /** @protected */\n  computedValue(value, $el, $scope, event, index) {\n    return typeof value === \"function\"\n      ? value.call(this, $el, $scope, event, index)\n      : value ?? null;\n  }\n\n  /** @protected */\n  recordEvent(eventName, data, rootData = {}) {\n    this.events.push({\n      event: eventName,\n      [`${this.prefix}.event`]: data,\n      ...rootData,\n    });\n  }\n\n  /** @protected */\n  getTnaMetaTags() {\n    return Object.fromEntries(\n      Array.from(\n        document.head.querySelectorAll(\n          `meta[name^='${this.prefix}.'][content]`,\n        ),\n      ).map(($metaEl) => [\n        $metaEl.getAttribute(\"name\"),\n        $metaEl.getAttribute(\"content\"),\n      ]),\n    );\n  }\n}\n\n/**\n * Class to handle Google Analytics 4 reporting.\n * @class GA4\n * @extends EventTracker\n * @constructor\n * @public\n */\nclass GA4 extends EventTracker {\n  /** @protected */\n  trackingCodeAdded = false;\n\n  /** @protected */\n  trackingEnabled = false;\n\n  /** @protected */\n  gTagId;\n\n  constructor(options = {}) {\n    if (GA4._instance) {\n      return GA4._instance;\n    }\n    const {\n      id = null,\n      prefix = null,\n      initAll = true,\n      addTrackingCode = true,\n    } = options;\n    if (!id) {\n      throw Error(\"ID was not specified\");\n    }\n    super({ prefix, addTrackingCode });\n    GA4._instance = this;\n    this.gTagId = id;\n    this.ga4Disable = `ga-disable-${this.gTagId}`;\n    window.dataLayer = window.dataLayer || [];\n    if (!this.cookies.isPolicyAccepted(\"usage\")) {\n      window[this.ga4Disable] = true;\n      this.cookies.set(this.ga4Disable, \"true\");\n    }\n    this.start(initAll);\n  }\n\n  destroy() {\n    GA4._instance = null;\n  }\n\n  /** @protected */\n  recordEvent(eventName, data, rootData = {}) {\n    const ga4Data = {\n      event: eventName,\n      ...Object.fromEntries(\n        Object.entries(data).map(([key, value]) => [\n          `${this.prefix}.event.${key}`,\n          value,\n        ]),\n      ),\n      ...rootData,\n    };\n    this.pushToDataLayer(ga4Data);\n  }\n\n  /** @protected */\n  gtag() {\n    this.pushToDataLayer(arguments);\n  }\n\n  /** @protected */\n  pushToDataLayer(data) {\n    window.dataLayer.push(data);\n  }\n\n  /** @protected */\n  enableTracking() {\n    if (!this.trackingEnabled) {\n      window[this.ga4Disable] = false;\n      this.cookies.set(this.ga4Disable, \"false\");\n      if (!this.trackingCodeAdded && this.addTrackingCode) {\n        this.pushToDataLayer({\n          \"gtm.start\": new Date().getTime(),\n          event: \"gtm.js\",\n        });\n        const firstScript = document.getElementsByTagName(\"script\")[0];\n        const script = document.createElement(\"script\");\n        script.async = true;\n        script.src = `https://www.googletagmanager.com/gtm.js?id=${this.gTagId}&l=dataLayer`;\n        if (firstScript) {\n          firstScript.parentNode.insertBefore(script, firstScript);\n        } else {\n          document.head.appendChild(script);\n        }\n        this.trackingCodeAdded = true;\n        const tnaMetaTags = this.getTnaMetaTags();\n        if (Object.keys(tnaMetaTags).length) {\n          this.pushToDataLayer(tnaMetaTags);\n        }\n      }\n      this.trackingEnabled = true;\n    }\n  }\n\n  /** @protected */\n  disableTracking() {\n    if (this.trackingEnabled) {\n      window[this.ga4Disable] = true;\n      this.cookies.set(this.ga4Disable, \"true\");\n      this.cookies.all.forEach((key) => {\n        if (key.startsWith(\"_ga\")) {\n          this.cookies.delete(key);\n        }\n      });\n      this.trackingEnabled = false;\n      window.location.reload();\n    }\n  }\n}\n\nconst helpers = { getXPathTo, getClosestHeading, valueGetters };\n\nexport { EventTracker, GA4, helpers };\n","export default [\n  {\n    scope: \".tna-hero\",\n    areaName: \"hero\",\n    events: [\n      {\n        eventName: \"toggle_caption\",\n        targetElement: \".tna-hero__details-summary\",\n        on: \"click\",\n        data: {\n          // eslint-disable-next-line no-unused-vars\n          state: ($el, $scope, event) => {\n            const wasExpanded =\n              $scope\n                .querySelector(\".tna-hero__details\")\n                ?.hasAttribute(\"open\") ?? false;\n            return wasExpanded ? \"closed\" : \"opened\";\n          },\n          // eslint-disable-next-line no-unused-vars\n          value: ($el, $scope, event) =>\n            $scope.querySelector(\"img[alt]\")?.getAttribute(\"alt\"),\n        },\n      },\n    ],\n  },\n];\n"],"names":["root","factory","exports","module","define","amd","self","__webpack_require__","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","CookieEventHandler","_classCallCheck","_defineProperty","_instance","this","_createClass","event","callback","hasOwn","events","concat","_toConsumableArray","oneTimeEvents","_this","data","arguments","length","undefined","forEach","eventToTrigger","i","splice","Cookies","options","_options$extraPolicie","extraPolicies","_options$domain","domain","_options$path","path","_options$secure","secure","_options$policiesKey","policiesKey","init","savePolicies","_objectSpread","fromEntries","map","k","toLowerCase","usage","settings","policies","essential","deserialised","document","cookie","split","filter","x","parts","trim","JSON","parse","e","all","exists","decodeURIComponent","_options$maxAge","maxAge","_options$sameSite","sameSite","_options$domain2","_options$path2","_options$secure2","encodeURIComponent","trigger","set","_this2","keys","policy","setPolicy","accepted","allPolicies","stringify","on","once","getXPathTo","$element","id","body","tagName","ix","siblings","parentNode","childNodes","sibling","nodeType","includesAny","arr","values","some","v","includes","getClosestHeading","heading","$search","previousElementSibling","classList","Array","from","innerText","parentElement","valueGetters","text","$el","html","innerHTML","index","$scope","checked","expanded","getAttribute","toString","closestHeading","scope","areaName","eventName","targetElement","state","group","_$scope$closest","closest","querySelector","rootEventName","rootData","data_component_name","data_link_type","data_section","data_link","data_position","image","imageSrc","imageAlt","_$scope$querySelector","componentAnalytics","CheckboxesAnalytics","FooterAnalytics","GlobalHeaderAnalytics","HeaderAnalytics","_$scope$querySelector2","hasAttribute","_$scope$querySelector3","PictureAnalytics","RadiosAnalytics","SearchFieldAnalytics","TextInputAnalytics","TextareaAnalytics","EventTracker","_window$TNAFrontend","window","TNAFrontend","Date","_options$prefix","prefix","_options$addTrackingC","addTrackingCode","initAll","navigator","doNotTrack","cookies","isPolicyAccepted","enableTracking","disableTracking","componentConfig","addListeners","scopeArray","_this3","querySelectorAll","_typeof","eventConfig","attachListener","_this4","_eventConfig$rootData","addEventListener","recordEvent","generateEventName","name","computedValue","xPath","timeSincePageLoad","startTime","entries","_ref","_ref2","_slicedToArray","push","head","$metaEl","GA4","_EventTracker2","_this5","_possibleConstructorReturn","_options$id","_options$prefix2","_options$initAll","_options$addTrackingC2","Error","_assertThisInitialized","_callSuper","gTagId","ga4Disable","dataLayer","start","_inherits","_this6","ga4Data","_ref3","_ref4","pushToDataLayer","trackingEnabled","trackingCodeAdded","getTime","firstScript","getElementsByTagName","script","createElement","async","src","insertBefore","appendChild","tnaMetaTags","getTnaMetaTags","_this7","startsWith","location","reload","helpers"],"sourceRoot":""}